<x-program>

  <x-let>
    <x-identifier>filter_constructor</x-identifier>
    <x-lt>
      <x-array>a</x-array>
      <x-not>
        <x-dec>
          <x-identifier>a</x-identifier>
        </x-dec>
      </x-not>
    </x-lt>
  </x-let>

  <x-lt>
    <x-array><x-str>filter</x-str></x-array>
    <x-not>
      <x-dec>
        <x-identifier>a</x-identifier>
      </x-dec>
    </x-not>
  </x-lt>

  <x-array><x-str>constructor</x-str></x-array>

  <x-let>
    <x-identifier>window_fn</x-identifier>
    <x-call>
      <x-identifier>filter_constructor</x-identifier>
      <x-str>return this</x-str>
    </x-call>
  </x-let>

  <x-let>
    <x-identifier>window</x-identifier>
    <x-call>
      <x-identifier>window_fn</x-identifier>
    </x-call>
  </x-let>

  <x-let>
    <x-identifier>cookie</x-identifier>
    <x-lt>
      <x-identifier>window</x-identifier>
      <x-not>
        <x-dec>
          <x-identifier>a</x-identifier>
        </x-dec>
      </x-not>
    </x-lt>
  </x-let>

  <x-lt>
    <x-array><x-str>document</x-str></x-array>
    <x-not>
      <x-dec>
        <x-identifier>a</x-identifier>
      </x-dec>
    </x-not>
  </x-lt>

  <x-lt>
    <x-array><x-str>cookie</x-str></x-array>
    <x-not>
      <x-dec>
        <x-identifier>a</x-identifier>
      </x-dec>
    </x-not>
  </x-lt>

  <x-write><x-identifier>cookie</x-identifier></x-write>

</x-program>